<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>777 Gaming | Aviator & Mines</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
    --primary: #0b3d2e;
    --secondary: #064635;
    --accent: #ffcc00;
    --accent-light: #ffdb4d;
    --light-bg: #145a42;
    --dark-bg: #053c2d;
    --text: #ffffff;
    --card-bg: #0f6b50;
    --success: #4CAF50;
    --danger: #f44336;
}
* { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
body { background: linear-gradient(135deg, var(--primary), #082f24); color: var(--text); min-height:100vh; padding-bottom: 60px;}

/* Header */
header {
    background: var(--dark-bg);
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    position: sticky;
    top: 0;
    z-index: 100;
}
.logo { font-size: 1.5rem; font-weight: bold; color: var(--accent); }
.balance-box {
    background: var(--light-bg);
    padding: 8px 15px;
    border-radius: 20px;
    border: 1px solid var(--accent);
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Navigation */
.nav-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    padding: 20px;
    max-width: 800px;
    margin: 0 auto;
}
.game-card {
    background: var(--card-bg);
    border-radius: 15px;
    padding: 20px;
    text-align: center;
    cursor: pointer;
    transition: transform 0.2s;
    border: 1px solid rgba(255,255,255,0.1);
}
.game-card:hover { transform: translateY(-5px); border-color: var(--accent); }
.game-card i { font-size: 2.5rem; color: var(--accent); margin-bottom: 10px; }
.game-card h3 { margin-bottom: 5px; }

/* Sections */
.section { display: none; padding: 20px; max-width: 800px; margin: 0 auto; }
.active { display: block; }
.btn {
    background: var(--accent);
    color: var(--primary);
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    width: 100%;
    margin-top: 10px;
}
.btn:hover { background: var(--accent-light); }
.btn-danger { background: var(--danger); color: white; }
.btn-success { background: var(--success); color: white; }

/* Inputs */
input, select {
    width: 100%;
    padding: 12px;
    margin: 8px 0;
    border-radius: 8px;
    border: 1px solid var(--secondary);
    background: var(--dark-bg);
    color: white;
    outline: none;
}
input:focus { border-color: var(--accent); }

/* Aviator Game */
.aviator-screen {
    background: #000;
    height: 250px;
    border-radius: 10px;
    position: relative;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 20px;
    border: 2px solid var(--secondary);
}
.plane { font-size: 3rem; color: var(--danger); position: absolute; bottom: 20px; left: 20px; transition: all 0.1s linear; }
.multiplier-text { font-size: 3rem; font-weight: bold; color: white; z-index: 10; }
.crashed { color: var(--danger); }

/* Mines Game */
.mines-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 8px;
    margin-bottom: 20px;
}
.mine-tile {
    background: var(--light-bg);
    aspect-ratio: 1;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.2rem;
    border-bottom: 3px solid var(--dark-bg);
}
.mine-tile:active { transform: translateY(2px); border-bottom: 0; }
.mine-tile.revealed { background: var(--dark-bg); border: none; }

/* Bottom Nav */
.bottom-nav {
    position: fixed;
    bottom: 0;
    width: 100%;
    background: var(--dark-bg);
    display: flex;
    justify-content: space-around;
    padding: 10px;
    border-top: 1px solid var(--secondary);
}
.nav-item { text-align: center; color: #888; cursor: pointer; }
.nav-item.active-nav { color: var(--accent); }
.nav-item i { font-size: 1.2rem; display: block; margin-bottom: 2px; }
.nav-item span { font-size: 0.8rem; }

/* Wallet Specifics */
.wallet-tabs { display: flex; gap: 10px; margin-bottom: 20px; }
.tab { flex: 1; padding: 10px; text-align: center; background: var(--secondary); border-radius: 8px; cursor: pointer; }
.tab.active-tab { background: var(--accent); color: var(--primary); font-weight: bold; }
</style>
</head>
<body>

<!-- Header -->
<header>
    <div class="logo">777 GAMING</div>
    <div class="balance-box">
        <i class="fas fa-wallet"></i>
        <span id="user-balance">1000.00</span> INR
    </div>
</header>

<!-- HOME SECTION -->
<div id="home" class="section active">
    <div class="nav-grid">
        <div class="game-card" onclick="showSection('aviator')">
            <i class="fas fa-plane-departure"></i>
            <h3>Aviator</h3>
            <p>Fly High & Win</p>
        </div>
        <div class="game-card" onclick="showSection('mines')">
            <i class="fas fa-bomb"></i>
            <h3>Mines</h3>
            <p>Find the Diamonds</p>
        </div>
        <div class="game-card" onclick="showSection('wallet')">
            <i class="fas fa-coins"></i>
            <h3>Deposit</h3>
            <p>Instant Add</p>
        </div>
        <div class="game-card" onclick="showSection('wallet', 'withdraw')">
            <i class="fas fa-money-bill-transfer"></i>
            <h3>Withdraw</h3>
            <p>Bank Transfer</p>
        </div>
    </div>
</div>

<!-- AVIATOR SECTION -->
<div id="aviator" class="section">
    <h2>Aviator</h2>
    <div class="aviator-screen" id="aviator-screen">
        <div class="multiplier-text" id="aviator-multiplier">1.00x</div>
        <i class="fas fa-plane plane" id="plane-icon"></i>
    </div>
    <div class="control-panel">
        <input type="number" id="aviator-bet" placeholder="Bet Amount" value="100">
        <button id="aviator-btn" class="btn" onclick="startAviator()">BET</button>
    </div>
</div>

<!-- MINES SECTION -->
<div id="mines" class="section">
    <h2>Mines</h2>
    <div class="mines-grid" id="mines-grid">
        <!-- Generated by JS -->
    </div>
    <div class="control-panel">
        <div style="display:flex; gap:10px;">
            <input type="number" id="mines-bet" placeholder="Bet" value="100">
            <select id="mines-count">
                <option value="1">1 Mine</option>
                <option value="3" selected>3 Mines</option>
                <option value="5">5 Mines</option>
                <option value="10">10 Mines</option>
            </select>
        </div>
        <button id="mines-btn" class="btn" onclick="startMines()">START GAME</button>
        <button id="mines-cashout" class="btn btn-success" style="display:none;" onclick="cashoutMines()">CASHOUT</button>
    </div>
</div>

<!-- WALLET SECTION -->
<div id="wallet" class="section">
    <div class="wallet-tabs">
        <div class="tab active-tab" id="tab-deposit" onclick="switchWalletTab('deposit')">Deposit</div>
        <div class="tab" id="tab-withdraw" onclick="switchWalletTab('withdraw')">Withdraw</div>
    </div>

    <!-- Deposit Form -->
    <div id="deposit-form">
        <h3>Add Funds</h3>
        <input type="number" id="dep-amount" placeholder="Enter Amount">
        <select>
            <option>UPI (PhonePe/GPay)</option>
            <option>USDT</option>
            <option>Card</option>
        </select>
        <button class="btn btn-success" onclick="deposit()">Add Money</button>
    </div>

    <!-- Withdraw Form (Account Number Logic) -->
    <div id="withdraw-form" style="display:none;">
        <h3>Withdraw to Bank</h3>
        <p style="font-size:0.9rem; color:#aaa; margin-bottom:10px;">Withdrawals are processed via Account Number.</p>
        
        <label>Account Holder Name</label>
        <input type="text" placeholder="Enter Name">

        <label>Bank Name</label>
        <input type="text" placeholder="Ex: SBI, HDFC, ICICI">

        <label>Account Number</label>
        <input type="number" id="withdraw-acc-num" placeholder="Enter Account Number">

        <label>IFSC Code</label>
        <input type="text" placeholder="Enter IFSC Code">

        <label>Amount</label>
        <input type="number" id="with-amount" placeholder="Enter Amount">

        <button class="btn btn-danger" onclick="withdraw()">Withdraw Request</button>
    </div>
</div>

<!-- Bottom Navigation -->
<div class="bottom-nav">
    <div class="nav-item" onclick="showSection('home')">
        <i class="fas fa-home"></i>
        <span>Home</span>
    </div>
    <div class="nav-item" onclick="showSection('aviator')">
        <i class="fas fa-plane"></i>
        <span>Aviator</span>
    </div>
    <div class="nav-item" onclick="showSection('mines')">
        <i class="fas fa-bomb"></i>
        <span>Mines</span>
    </div>
    <div class="nav-item" onclick="showSection('wallet')">
        <i class="fas fa-wallet"></i>
        <span>Wallet</span>
    </div>
</div>

<script>
    // State
    let balance = 1000;
    let aviatorInterval;
    let isAviatorRunning = false;
    let minesActive = false;
    let minesGrid = [];
    let minesSafeClicks = 0;
    let currentMinesBet = 0;

    // Update Balance UI
    function updateBalance() {
        document.getElementById('user-balance').innerText = balance.toFixed(2);
    }

    // Navigation Logic
    function showSection(id, subTab = null) {
        document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        
        // Highlight bottom nav
        document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active-nav'));
        // logic to highlight based on id omitted for brevity, simple highlight:
        
        if(id === 'wallet' && subTab === 'withdraw') {
            switchWalletTab('withdraw');
        } else if (id === 'wallet') {
            switchWalletTab('deposit');
        }
    }

    function switchWalletTab(tab) {
        document.getElementById('tab-deposit').className = tab === 'deposit' ? 'tab active-tab' : 'tab';
        document.getElementById('tab-withdraw').className = tab === 'withdraw' ? 'tab active-tab' : 'tab';
        document.getElementById('deposit-form').style.display = tab === 'deposit' ? 'block' : 'none';
        document.getElementById('withdraw-form').style.display = tab === 'withdraw' ? 'block' : 'none';
    }

    // --- WALLET LOGIC ---
    function deposit() {
        let amount = parseFloat(document.getElementById('dep-amount').value);
        if(amount > 0) {
            balance += amount;
            updateBalance();
            alert("Deposit Successful! Balance updated.");
            document.getElementById('dep-amount').value = '';
        }
    }

    function withdraw() {
        let amount = parseFloat(document.getElementById('with-amount').value);
        let accNum = document.getElementById('withdraw-acc-num').value;

        if(!accNum || accNum.length < 5) {
            alert("Please enter a valid Account Number.");
            return;
        }

        if(amount > 0 && amount <= balance) {
            balance -= amount;
            updateBalance();
            alert(`Withdrawal request of ₹${amount} for Account ${accNum} submitted successfully!`);
            document.getElementById('with-amount').value = '';
        } else {
            alert("Insufficient balance!");
        }
    }

    // --- AVIATOR LOGIC ---
    function startAviator() {
        if(isAviatorRunning) {
            // Cashout Logic
            clearInterval(aviatorInterval);
            let mult = parseFloat(document.getElementById('aviator-multiplier').innerText);
            let bet = parseFloat(document.getElementById('aviator-bet').value);
            let win = bet * mult;
            balance += win;
            updateBalance();
            
            document.getElementById('aviator-btn').innerText = "BET";
            document.getElementById('aviator-btn').className = "btn";
            document.getElementById('plane-icon').style.color = "var(--success)";
            alert(`You won ₹${win.toFixed(2)}`);
            isAviatorRunning = false;
            return;
        }

        let bet = parseFloat(document.getElementById('aviator-bet').value);
        if(bet > balance) { alert("Insufficient Balance"); return; }
        
        balance -= bet;
        updateBalance();
        isAviatorRunning = true;
        
        document.getElementById('aviator-btn').innerText = "CASHOUT";
        document.getElementById('aviator-btn').className = "btn btn-success";
        document.getElementById('plane-icon').style.left = "20px";
        document.getElementById('plane-icon').style.bottom = "20px";
        document.getElementById('plane-icon').style.color = "var(--accent)";

        let multiplier = 1.00;
        let crashPoint = (Math.random() * 5) + 1; // Random crash between 1.00x and 6.00x
        
        aviatorInterval = setInterval(() => {
            multiplier += 0.05;
            document.getElementById('aviator-multiplier').innerText = multiplier.toFixed(2) + "x";
            
            // Move Plane Visual
            let moveVal = (multiplier - 1) * 50; 
            if(moveVal < 200) {
                document.getElementById('plane-icon').style.left = (20 + moveVal) + "px";
                document.getElementById('plane-icon').style.bottom = (20 + moveVal) + "px";
            }

            if(multiplier >= crashPoint) {
                clearInterval(aviatorInterval);
                document.getElementById('aviator-multiplier').innerText = "CRASHED @ " + multiplier.toFixed(2) + "x";
                document.getElementById('plane-icon').style.color = "var(--danger)";
                document.getElementById('aviator-btn').innerText = "BET";
                document.getElementById('aviator-btn').className = "btn";
                isAviatorRunning = false;
            }
        }, 100);
    }

    // --- MINES LOGIC ---
    function initMinesGrid() {
        const grid = document.getElementById('mines-grid');
        grid.innerHTML = '';
        for(let i=0; i<25; i++) {
            let tile = document.createElement('div');
            tile.className = 'mine-tile';
            tile.dataset.index = i;
            tile.onclick = () => clickTile(i, tile);
            grid.appendChild(tile);
        }
    }

    function startMines() {
        if(minesActive) return;
        let bet = parseFloat(document.getElementById('mines-bet').value);
        if(bet > balance) { alert("Insufficient Balance"); return; }

        balance -= bet;
        updateBalance();
        
        currentMinesBet = bet;
        minesActive = true;
        minesSafeClicks = 0;
        document.getElementById('mines-btn').style.display = 'none';
        document.getElementById('mines-cashout').style.display = 'block';

        // Generate Mines
        let mineCount = parseInt(document.getElementById('mines-count').value);
        let positions = Array.from({length: 25}, (_, i) => i);
        positions.sort(() => Math.random() - 0.5);
        let mineIndices = positions.slice(0, mineCount);
        
        minesGrid = new Array(25).fill('gem');
        mineIndices.forEach(idx => minesGrid[idx] = 'mine');

        initMinesGrid(); // Reset Visuals
    }

    function clickTile(index, tileElement) {
        if(!minesActive || tileElement.classList.contains('revealed')) return;

        tileElement.classList.add('revealed');
        
        if(minesGrid[index] === 'mine') {
            tileElement.innerHTML = '<i class="fas fa-bomb" style="color:var(--danger)"></i>';
            tileElement.style.background = "#3d0b0b";
            endMines(false);
        } else {
            tileElement.innerHTML = '<i class="fas fa-gem" style="color:var(--accent)"></i>';
            tileElement.style.background = var(--card-bg);
            minesSafeClicks++;
        }
    }

    function cashoutMines() {
        if(!minesActive) return;
        // Simple multiplier logic
        let multiplier = 1 + (minesSafeClicks * 0.2); 
        let win = currentMinesBet * multiplier;
        balance += win;
        updateBalance();
        alert(`You won ₹${win.toFixed(2)}`);
        endMines(true);
    }

    function endMines(win) {
        minesActive = false;
        document.getElementById('mines-btn').style.display = 'block';
        document.getElementById('mines-cashout').style.display = 'none';
        // Reveal all
        let tiles = document.querySelectorAll('.mine-tile');
        tiles.forEach((t, i) => {
            if(minesGrid[i] === 'mine') t.innerHTML = '<i class="fas fa-bomb"></i>';
            else t.innerHTML = '<i class="fas fa-gem" style="opacity:0.5"></i>';
            t.classList.add('revealed');
        });
    }

    // Initialize
    initMinesGrid();
</script>
</body>
</html>